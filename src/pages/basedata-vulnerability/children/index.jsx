import { useEffect } from 'react'
import { connect } from 'dva'
import { Tabs } from 'ii-ui'
import './index.less'
import First from './first'
import Second from './second'
// import Role from './role'

const TabPane = Tabs.TabPane

const User = (props) => {
  // const { changeCurTab, getTotalAccount, getTotalRole } = props
  // const { totalAccount, totalRole } = props
  const { type = '' } = props.match.params
  useEffect(() => {
    // getTotalAccount()
    // getTotalRole()
  }, [])
  const callback = (key) => {
    // setType(key)
    // changeCurTab(key)
  }
  return (
    <div className='basedata-vulnerability'>
      <Tabs
        defaultActiveKey={!type ? 'first' : type}
        onChange={callback}
        type='card'
      >
        <TabPane tab='一级脆弱性' key='first'>
          <First></First>
        </TabPane>
        <TabPane tab='二级脆弱性' key='second'>
          <Second></Second>
        </TabPane>
      </Tabs>
    </div>
  )
}

const TABLE_NAME_SPACE = 'VulneraBilityTableView'

const mapState = state => {
  // const { queryType } = state[TABLE_NAME_SPACE]
  // const { totalAccount } = state['UserAccount']
  // const { totalRole } = state['UserRole']
  // return {
  //   queryType,
  //   totalAccount,
  //   totalRole
  // }
}

const mapDispatchToProps = (dispatch, ownProps) => ({
  // changeCurTab: (type) => dispatch({ type: `${TABLE_NAME_SPACE}/changeCurTab`, payload: type }),
  // getTotalAccount: () => dispatch({ type: `UserAccount/getTotalAccount` }),
  // getTotalRole: () => dispatch({ type: `UserRole/getTotalRole` }),
})
export default connect(mapState, mapDispatchToProps)(User)